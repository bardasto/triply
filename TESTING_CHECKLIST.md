# ‚úÖ Testing Checklist - AI Trips + Supabase

## –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### 1. ‚òëÔ∏è –ü—Ä–æ–≤–µ—Ä—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ Supabase

```bash
1. –û—Ç–∫—Ä–æ–π https://app.supabase.com
2. –í—ã–±–µ—Ä–∏ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏ –≤ Table Editor (–ª–µ–≤–æ–µ –º–µ–Ω—é)
4. –ù–∞–π–¥–∏ —Ç–∞–±–ª–∏—Ü—É "ai_generated_trips"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ –ö–æ–ª–æ–Ω–∫–∏: id, user_id, title, city, country, –∏ —Ç.–¥.
- ‚úÖ –ü–æ–∫–∞ 0 –∑–∞–ø–∏—Å–µ–π (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª)

### 2. ‚òëÔ∏è –ó–∞–ø—É—Å—Ç–∏ Flutter –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
cd /Users/heorhii.fedulov/development/travel_ai_new
flutter run
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- ‚úÖ –ú–æ–∂–µ—à—å –∑–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è

### 3. ‚òëÔ∏è –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ç—Ä–∏–ø

**–®–∞–≥–∏:**
1. –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –æ—Ç–∫—Ä–æ–π **AI Chat** (—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –≤–Ω–∏–∑—É)
2. –í–≤–µ–¥–∏ –∑–∞–ø—Ä–æ—Å: `romantic weekend in Paris`
3. –î–æ–∂–¥–∏—Å—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç—Ä–∏–ø–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –¢—Ä–∏–ø –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω —Å –¥–µ—Ç–∞–ª—è–º–∏ —Ç—Ä–∏–ø–∞
- ‚úÖ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

### 4. ‚òëÔ∏è –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ç—Ä–∏–ø —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è –≤ Supabase

**–í Supabase Dashboard:**
```sql
-- SQL Editor ‚Üí New Query
SELECT id, title, city, original_query, created_at
FROM ai_generated_trips
WHERE user_id = auth.uid()
ORDER BY created_at DESC;
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ—è–≤–∏–ª–∞—Å—å 1 –∑–∞–ø–∏—Å—å
- ‚úÖ title: "Romantic Weekend in Paris" (–∏–ª–∏ –ø–æ—Ö–æ–∂–µ–µ)
- ‚úÖ city: "Paris"
- ‚úÖ original_query: "romantic weekend in Paris"
- ‚úÖ created_at: –Ω–µ–¥–∞–≤–Ω—è—è –¥–∞—Ç–∞

### 5. ‚òëÔ∏è –ü—Ä–æ–≤–µ—Ä—å —ç–∫—Ä–∞–Ω "My Trips"

**–®–∞–≥–∏:**
1. –í–µ—Ä–Ω–∏—Å—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω (–∫–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥)
2. –ù–∞–∂–º–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Trips** (4-—è –∫–Ω–æ–ø–∫–∞ –≤–Ω–∏–∑—É)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í–∏–¥–∏—à—å —Å–≤–æ–π —Ç—Ä–∏–ø –∫–∞–∫ –∫–∞—Ä—Ç–æ—á–∫—É
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ñ–æ—Ç–æ, –Ω–∞–∑–≤–∞–Ω–∏–µ, –≥–æ—Ä–æ–¥
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Ü–µ–Ω–∞

### 6. ‚òëÔ∏è –ü—Ä–æ–≤–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ

**–®–∞–≥–∏:**
1. –ù–∞ —ç–∫—Ä–∞–Ω–µ Trips –Ω–∞–π–¥–∏ —Å–≤–æ–π —Ç—Ä–∏–ø
2. –ù–∞–∂–º–∏ –Ω–∞ –∏–∫–æ–Ω–∫—É ‚ù§Ô∏è –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –∫–∞—Ä—Ç–æ—á–∫–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ò–∫–æ–Ω–∫–∞ –º–µ–Ω—è–µ—Ç—Å—è —Å ‚ô° –Ω–∞ ‚ù§Ô∏è (–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ —Å–µ—Ä–¥—Ü–µ)
- ‚úÖ –¶–≤–µ—Ç –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –∫—Ä–∞—Å–Ω—ã–π

**–í Supabase:**
```sql
SELECT id, title, is_favorite
FROM ai_generated_trips
WHERE user_id = auth.uid();
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ is_favorite: true

### 7. ‚òëÔ∏è –ü—Ä–æ–≤–µ—Ä—å —É–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–∏–ø–∞

**–®–∞–≥–∏:**
1. –ù–∞ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç—Ä–∏–ø–∞ –Ω–∞–∂–º–∏ –∏–∫–æ–Ω–∫—É üóëÔ∏è (delete) –≤ –ª–µ–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏ —É–¥–∞–ª–µ–Ω–∏–µ –≤ –¥–∏–∞–ª–æ–≥–µ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –¢—Ä–∏–ø –∏—Å—á–µ–∑–∞–µ—Ç –∏–∑ —Å–ø–∏—Å–∫–∞
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω "No trips yet"

**–í Supabase:**
```sql
SELECT COUNT(*) FROM ai_generated_trips WHERE user_id = auth.uid();
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í–µ—Ä–Ω–µ—Ç 0 (—Ç—Ä–∏–ø —É–¥–∞–ª–µ–Ω)

### 8. ‚òëÔ∏è –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç—Ä–∏–ø–æ–≤

**–°–æ–∑–¥–∞–π —Ç—Ä–∏–ø—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤:**
1. "beach vacation in Barcelona"
2. "foodie weekend in Rome"
3. "mountain adventure in Swiss Alps"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í—Å–µ 3 —Ç—Ä–∏–ø–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ Trips
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É

### 9. ‚òëÔ∏è –ü—Ä–æ–≤–µ—Ä—å Real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ï—Å–ª–∏ –µ—Å—Ç—å –¥–≤–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏–ª–∏ –º–æ–∂–µ—à—å –æ—Ç–∫—Ä—ã—Ç—å Web –≤–µ—Ä—Å–∏—é:**

**Device 1:**
1. –û—Ç–∫—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ —ç–∫—Ä–∞–Ω Trips

**Device 2 (–∏–ª–∏ Browser):**
1. –û—Ç–∫—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π —Ç—Ä–∏–ø —á–µ—Ä–µ–∑ AI Chat

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ Device 1:**
- ‚úÖ –ù–æ–≤—ã–π —Ç—Ä–∏–ø **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —ç–∫—Ä–∞–Ω

### 10. ‚òëÔ∏è –ü—Ä–æ–≤–µ—Ä—å RLS (Row Level Security)

**–í Supabase SQL Editor:**

```sql
-- –ü–æ–ø—Ä–æ–±—É–π –ø–æ–ª—É—á–∏—Ç—å –í–°–ï —Ç—Ä–∏–ø—ã (–Ω–µ —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏)
SELECT * FROM ai_generated_trips;
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í–∏–¥–∏—à—å —Ç–æ–ª—å–∫–æ –°–í–û–ò —Ç—Ä–∏–ø—ã
- ‚úÖ –ß—É–∂–∏–µ —Ç—Ä–∏–ø—ã –ù–ï –≤–∏–¥–Ω—ã (RLS —Ä–∞–±–æ—Ç–∞–µ—Ç)

```sql
-- –ü–æ–ø—Ä–æ–±—É–π –≤—Å—Ç–∞–≤–∏—Ç—å —Ç—Ä–∏–ø –¥–ª—è –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
INSERT INTO ai_generated_trips (
  user_id,
  title,
  city,
  country
) VALUES (
  '00000000-0000-0000-0000-000000000000',
  'Fake Trip',
  'Fake City',
  'Fake Country'
);
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚ùå –û—à–∏–±–∫–∞: "new row violates row-level security policy"
- ‚úÖ RLS –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –≤—Å—Ç–∞–≤–∫–∏ —á—É–∂–∏—Ö –¥–∞–Ω–Ω—ã—Ö

## üìä –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### Checklist Summary

- [ ] 1. –¢–∞–±–ª–∏—Ü–∞ ai_generated_trips —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ Supabase
- [ ] 2. Flutter –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] 3. –ú–æ–≥—É —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∏–ø —á–µ—Ä–µ–∑ AI Chat
- [ ] 4. –¢—Ä–∏–ø —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Supabase
- [ ] 5. –¢—Ä–∏–ø –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ My Trips
- [ ] 6. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] 7. –£–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–∏–ø–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] 8. –ù–µ—Å–∫–æ–ª—å–∫–æ —Ç—Ä–∏–ø–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] 9. Real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] 10. RLS –ø–æ–ª–∏—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –¢—Ä–∏–ø—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å:**
```dart
// –í –∫–æ–Ω—Å–æ–ª–∏ Flutter –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å
print('Trip saved successfully');

// –ï—Å–ª–∏ –æ—à–∏–±–∫–∞
print('Error saving trip: ...');
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω
- –¢–∞–±–ª–∏—Ü–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞
- RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏–Ω: `Supabase.instance.client.auth.currentUser`
2. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π —Ç–∞–±–ª–∏—Ü—É: –∑–∞–ø—É—Å—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏—é –∑–∞–Ω–æ–≤–æ
3. –ü—Ä–æ–≤–µ—Ä—å RLS: `ALTER TABLE ai_generated_trips ENABLE ROW LEVEL SECURITY;`

### –≠–∫—Ä–∞–Ω "No trips yet" —Ö–æ—Ç—è —Ç—Ä–∏–ø—ã –µ—Å—Ç—å –≤ –ë–î

**–ü—Ä–æ–≤–µ—Ä—å:**
```dart
// –í –∫–æ–Ω—Å–æ–ª–∏ Flutter
print('Loaded trips: $_trips');
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π user_id
- –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ user_id —Å–æ–≤–ø–∞–¥–∞–µ—Ç:
```sql
SELECT auth.uid(); -- –í Supabase
print(user.id); -- –í Flutter
```

### Real-time –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä—å –≤ Supabase Dashboard:**
1. Settings ‚Üí API ‚Üí Realtime
2. Enable Real-time –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã `ai_generated_trips`

**–í –∫–æ–¥–µ:**
```dart
print('Channel status: ${_tripsChannel?.status}');
// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: joined
```

## ‚úÖ –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!

–ï—Å–ª–∏ –≤—Å–µ —á–µ–∫–±–æ–∫—Å—ã –æ—Ç–º–µ—á–µ–Ω—ã:

üéâ **–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**

–¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è:
- ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–∏–ø—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- ‚úÖ Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

## üìù –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. –î–æ–±–∞–≤—å –±–æ–ª—å—à–µ —Ñ—É–Ω–∫—Ü–∏–π:
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç—Ä–∏–ø–æ–≤ –ø–æ –≥–æ—Ä–æ–¥—É
   - –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
   - –≠–∫—Å–ø–æ—Ä—Ç —Ç—Ä–∏–ø–∞ –≤ PDF
   - –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ç—Ä–∏–ø–æ–º

2. –£–ª—É—á—à–∏ UX:
   - Skeleton loaders
   - Pull-to-refresh
   - Offline mode
   - Error boundaries

3. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞:
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
   - –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –≥–æ—Ä–æ–¥–∞
   - –°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–£–¥–∞—á–∏! üöÄ
